graph LR;
    %% Dirección del flujo
    direction LR

    %% Definición de nodos
    U["🧑‍💻 **User**"] 
    subgraph Frontend ["🎨 **Frontend**"]
        React["⚛️ **React.js**"]
        Tailwind["🎨 **TailwindCSS**"]
    end

    subgraph Backend ["🖥️ **Backend**"]
        Node["🟢 **Node.js**"]
        Express["🚀 **Express.js**"]
        AI["🤖 **AI Integration**"]
        DBHandler["🗄️ **Database Handling**"]
    end

    subgraph AI_Services ["🤖 **AI Services**"]
        Flask["🐍 **Flask Server**"]
        LLM["🧠 **LLM Model**"]
    end

    subgraph Database ["💾 **Database**"]
        MariaDB["🐬 **MariaDB**"]
    end

    %% Conexiones
    U -->|Interacts with UI| React
    React -->|Uses Styling| Tailwind
    React -->|Sends API Requests| Node
    Node -->|Handles Requests| Express
    Node -->|Performs CRUD| DBHandler
    DBHandler -->|Stores Data| MariaDB
    Node -->|Processes AI Queries| AI
    AI -->|Sends Requests to Flask| Flask
    Flask -->|Handles LLM Requests| LLM

    %% Estilos mejorados
    classDef frontend fill:#E3F2FD,stroke:#1E88E5,stroke-width:2px,color:#000,font-weight:bold,font-size:14px;
    classDef backend fill:#FFF3E0,stroke:#FB8C00,stroke-width:2px,color:#000,font-weight:bold,font-size:14px;
    classDef database fill:#F1F8E9,stroke:#43A047,stroke-width:2px,color:#000,font-weight:bold,font-size:14px;
    classDef cloud fill:#ECEFF1,stroke:#607D8B,stroke-width:2px,color:#000,font-weight:bold,font-size:14px;
    classDef actor fill:#FFEBEE,stroke:#D32F2F,stroke-width:2px,color:#000,font-weight:bold,font-size:14px;

    class Frontend frontend;
    class Backend backend;
    class Database database;
    class AI_Services cloud;
    class U actor;
